// <auto-generated />
// Built from: hl7.fhir.r3.core version: 3.0.2
  // Option: "NAMESPACE" = "fhirCsR3"

using System;
using System.Collections.Generic;
using System.Text.Json;
using System.Text.Json.Serialization;
using fhirCsR3.Serialization;

namespace fhirCsR3.Models
{
  /// <summary>
  /// Deals with details of the dispense part of the supply specification.
  /// </summary>
  [JsonConverter(typeof(fhirCsR3.Serialization.JsonStreamComponentConverter<VisionPrescriptionDispense>))]
  public class VisionPrescriptionDispense : BackboneElement,  IFhirJsonSerializable {
    /// <summary>
    /// Power adjustment for multifocal lenses measured in diopters (0.25 units).
    /// </summary>
    public decimal? Add { get; set; }
    /// <summary>
    /// Extension container element for Add
    /// </summary>
    public Element _Add { get; set; }
    /// <summary>
    /// Adjustment for astigmatism measured in integer degrees.
    /// </summary>
    public int? Axis { get; set; }
    /// <summary>
    /// Extension container element for Axis
    /// </summary>
    public Element _Axis { get; set; }
    /// <summary>
    /// Back curvature measured in millimeters.
    /// </summary>
    public decimal? BackCurve { get; set; }
    /// <summary>
    /// Extension container element for BackCurve
    /// </summary>
    public Element _BackCurve { get; set; }
    /// <summary>
    /// The relative base, or reference lens edge, for the prism.
    /// </summary>
    public string Base { get; set; }
    /// <summary>
    /// Extension container element for Base
    /// </summary>
    public Element _Base { get; set; }
    /// <summary>
    /// Brand recommendations or restrictions.
    /// </summary>
    public string Brand { get; set; }
    /// <summary>
    /// Extension container element for Brand
    /// </summary>
    public Element _Brand { get; set; }
    /// <summary>
    /// Special color or pattern.
    /// </summary>
    public string Color { get; set; }
    /// <summary>
    /// Extension container element for Color
    /// </summary>
    public Element _Color { get; set; }
    /// <summary>
    /// Power adjustment for astigmatism measured in diopters (0.25 units).
    /// </summary>
    public decimal? Cylinder { get; set; }
    /// <summary>
    /// Extension container element for Cylinder
    /// </summary>
    public Element _Cylinder { get; set; }
    /// <summary>
    /// Contact lens diameter measured in millimeters.
    /// </summary>
    public decimal? Diameter { get; set; }
    /// <summary>
    /// Extension container element for Diameter
    /// </summary>
    public Element _Diameter { get; set; }
    /// <summary>
    /// The recommended maximum wear period for the lens.
    /// </summary>
    public Quantity Duration { get; set; }
    /// <summary>
    /// The eye for which the lens applies.
    /// </summary>
    public string Eye { get; set; }
    /// <summary>
    /// Extension container element for Eye
    /// </summary>
    public Element _Eye { get; set; }
    /// <summary>
    /// Notes for special requirements such as coatings and lens materials.
    /// </summary>
    public List<Annotation> Note { get; set; }
    /// <summary>
    /// Contact lens power measured in diopters (0.25 units).
    /// </summary>
    public decimal? Power { get; set; }
    /// <summary>
    /// Extension container element for Power
    /// </summary>
    public Element _Power { get; set; }
    /// <summary>
    /// Amount of prism to compensate for eye alignment in fractional units.
    /// </summary>
    public decimal? Prism { get; set; }
    /// <summary>
    /// Extension container element for Prism
    /// </summary>
    public Element _Prism { get; set; }
    /// <summary>
    /// Identifies the type of vision correction product which is required for the patient.
    /// </summary>
    public CodeableConcept Product { get; set; }
    /// <summary>
    /// Lens power measured in diopters (0.25 units).
    /// </summary>
    public decimal? Sphere { get; set; }
    /// <summary>
    /// Extension container element for Sphere
    /// </summary>
    public Element _Sphere { get; set; }
    /// <summary>
    /// Serialize to a JSON object
    /// </summary>
    public new void SerializeJson(Utf8JsonWriter writer, JsonSerializerOptions options, bool includeStartObject = true)
    {
      if (includeStartObject)
      {
        writer.WriteStartObject();
      }
      ((fhirCsR3.Models.BackboneElement)this).SerializeJson(writer, options, false);

      if (Product != null)
      {
        writer.WritePropertyName("product");
        Product.SerializeJson(writer, options);
      }

      if (!string.IsNullOrEmpty(Eye))
      {
        writer.WriteString("eye", (string)Eye!);
      }

      if (_Eye != null)
      {
        writer.WritePropertyName("_eye");
        _Eye.SerializeJson(writer, options);
      }

      if (Sphere != null)
      {
        writer.WriteNumber("sphere", (decimal)Sphere!);
      }

      if (_Sphere != null)
      {
        writer.WritePropertyName("_sphere");
        _Sphere.SerializeJson(writer, options);
      }

      if (Cylinder != null)
      {
        writer.WriteNumber("cylinder", (decimal)Cylinder!);
      }

      if (_Cylinder != null)
      {
        writer.WritePropertyName("_cylinder");
        _Cylinder.SerializeJson(writer, options);
      }

      if (Axis != null)
      {
        writer.WriteNumber("axis", (int)Axis!);
      }

      if (_Axis != null)
      {
        writer.WritePropertyName("_axis");
        _Axis.SerializeJson(writer, options);
      }

      if (Prism != null)
      {
        writer.WriteNumber("prism", (decimal)Prism!);
      }

      if (_Prism != null)
      {
        writer.WritePropertyName("_prism");
        _Prism.SerializeJson(writer, options);
      }

      if (!string.IsNullOrEmpty(Base))
      {
        writer.WriteString("base", (string)Base!);
      }

      if (_Base != null)
      {
        writer.WritePropertyName("_base");
        _Base.SerializeJson(writer, options);
      }

      if (Add != null)
      {
        writer.WriteNumber("add", (decimal)Add!);
      }

      if (_Add != null)
      {
        writer.WritePropertyName("_add");
        _Add.SerializeJson(writer, options);
      }

      if (Power != null)
      {
        writer.WriteNumber("power", (decimal)Power!);
      }

      if (_Power != null)
      {
        writer.WritePropertyName("_power");
        _Power.SerializeJson(writer, options);
      }

      if (BackCurve != null)
      {
        writer.WriteNumber("backCurve", (decimal)BackCurve!);
      }

      if (_BackCurve != null)
      {
        writer.WritePropertyName("_backCurve");
        _BackCurve.SerializeJson(writer, options);
      }

      if (Diameter != null)
      {
        writer.WriteNumber("diameter", (decimal)Diameter!);
      }

      if (_Diameter != null)
      {
        writer.WritePropertyName("_diameter");
        _Diameter.SerializeJson(writer, options);
      }

      if (Duration != null)
      {
        writer.WritePropertyName("duration");
        Duration.SerializeJson(writer, options);
      }

      if (!string.IsNullOrEmpty(Color))
      {
        writer.WriteString("color", (string)Color!);
      }

      if (_Color != null)
      {
        writer.WritePropertyName("_color");
        _Color.SerializeJson(writer, options);
      }

      if (!string.IsNullOrEmpty(Brand))
      {
        writer.WriteString("brand", (string)Brand!);
      }

      if (_Brand != null)
      {
        writer.WritePropertyName("_brand");
        _Brand.SerializeJson(writer, options);
      }

      if ((Note != null) && (Note.Count != 0))
      {
        writer.WritePropertyName("note");
        writer.WriteStartArray();

        foreach (Annotation valNote in Note)
        {
          valNote.SerializeJson(writer, options, true);
        }

        writer.WriteEndArray();
      }

      if (includeStartObject)
      {
        writer.WriteEndObject();
      }
    }
    /// <summary>
    /// Deserialize a JSON property
    /// </summary>
    public new void DeserializeJsonProperty(ref Utf8JsonReader reader, JsonSerializerOptions options, string propertyName)
    {
      switch (propertyName)
      {
        case "add":
          Add = reader.GetDecimal();
          break;

        case "_add":
          _Add = new fhirCsR3.Models.Element();
          _Add.DeserializeJson(ref reader, options);
          break;

        case "axis":
          Axis = reader.GetInt32();
          break;

        case "_axis":
          _Axis = new fhirCsR3.Models.Element();
          _Axis.DeserializeJson(ref reader, options);
          break;

        case "backCurve":
          BackCurve = reader.GetDecimal();
          break;

        case "_backCurve":
          _BackCurve = new fhirCsR3.Models.Element();
          _BackCurve.DeserializeJson(ref reader, options);
          break;

        case "base":
          Base = reader.GetString();
          break;

        case "_base":
          _Base = new fhirCsR3.Models.Element();
          _Base.DeserializeJson(ref reader, options);
          break;

        case "brand":
          Brand = reader.GetString();
          break;

        case "_brand":
          _Brand = new fhirCsR3.Models.Element();
          _Brand.DeserializeJson(ref reader, options);
          break;

        case "color":
          Color = reader.GetString();
          break;

        case "_color":
          _Color = new fhirCsR3.Models.Element();
          _Color.DeserializeJson(ref reader, options);
          break;

        case "cylinder":
          Cylinder = reader.GetDecimal();
          break;

        case "_cylinder":
          _Cylinder = new fhirCsR3.Models.Element();
          _Cylinder.DeserializeJson(ref reader, options);
          break;

        case "diameter":
          Diameter = reader.GetDecimal();
          break;

        case "_diameter":
          _Diameter = new fhirCsR3.Models.Element();
          _Diameter.DeserializeJson(ref reader, options);
          break;

        case "duration":
          Duration = new fhirCsR3.Models.Quantity();
          Duration.DeserializeJson(ref reader, options);
          break;

        case "eye":
          Eye = reader.GetString();
          break;

        case "_eye":
          _Eye = new fhirCsR3.Models.Element();
          _Eye.DeserializeJson(ref reader, options);
          break;

        case "note":
          if ((reader.TokenType != JsonTokenType.StartArray) || (!reader.Read()))
          {
            throw new JsonException();
          }

          Note = new List<Annotation>();

          while (reader.TokenType != JsonTokenType.EndArray)
          {
            fhirCsR3.Models.Annotation objNote = new fhirCsR3.Models.Annotation();
            objNote.DeserializeJson(ref reader, options);
            Note.Add(objNote);

            if (!reader.Read())
            {
              throw new JsonException();
            }
          }

          if (Note.Count == 0)
          {
            Note = null;
          }

          break;

        case "power":
          Power = reader.GetDecimal();
          break;

        case "_power":
          _Power = new fhirCsR3.Models.Element();
          _Power.DeserializeJson(ref reader, options);
          break;

        case "prism":
          Prism = reader.GetDecimal();
          break;

        case "_prism":
          _Prism = new fhirCsR3.Models.Element();
          _Prism.DeserializeJson(ref reader, options);
          break;

        case "product":
          Product = new fhirCsR3.Models.CodeableConcept();
          Product.DeserializeJson(ref reader, options);
          break;

        case "sphere":
          Sphere = reader.GetDecimal();
          break;

        case "_sphere":
          _Sphere = new fhirCsR3.Models.Element();
          _Sphere.DeserializeJson(ref reader, options);
          break;

        default:
          ((fhirCsR3.Models.BackboneElement)this).DeserializeJsonProperty(ref reader, options, propertyName);
          break;
      }
    }

    /// <summary>
    /// Deserialize a JSON object
    /// </summary>
    public new void DeserializeJson(ref Utf8JsonReader reader, JsonSerializerOptions options)
    {
      string propertyName;

      while (reader.Read())
      {
        if (reader.TokenType == JsonTokenType.EndObject)
        {
          return;
        }

        if (reader.TokenType == JsonTokenType.PropertyName)
        {
          propertyName = reader.GetString();
          reader.Read();
          this.DeserializeJsonProperty(ref reader, options, propertyName);
        }
      }

      throw new JsonException();
    }
  }
  /// <summary>
  /// Code Values for the VisionPrescription.dispense.base field
  /// </summary>
  public static class VisionPrescriptionDispenseBaseCodes {
    public const string UP = "up";
    public const string DOWN = "down";
    public const string VAL_IN = "in";
    public const string VAL_OUT = "out";
    public static HashSet<string> Values = new HashSet<string>() {
      "up",
      "down",
      "in",
      "out",
    };
  }
  /// <summary>
  /// Code Values for the VisionPrescription.dispense.eye field
  /// </summary>
  public static class VisionPrescriptionDispenseEyeCodes {
    public const string RIGHT = "right";
    public const string LEFT = "left";
    public static HashSet<string> Values = new HashSet<string>() {
      "right",
      "left",
    };
  }
  /// <summary>
  /// An authorization for the supply of glasses and/or contact lenses to a patient.
  /// </summary>
  [JsonConverter(typeof(fhirCsR3.Serialization.JsonStreamComponentConverter<VisionPrescription>))]
  public class VisionPrescription : DomainResource,  IFhirJsonSerializable {
    /// <summary>
    /// Resource Type Name
    /// </summary>
    public override string ResourceType => "VisionPrescription";
    /// <summary>
    /// The date (and perhaps time) when the prescription was written.
    /// </summary>
    public string DateWritten { get; set; }
    /// <summary>
    /// Extension container element for DateWritten
    /// </summary>
    public Element _DateWritten { get; set; }
    /// <summary>
    /// Deals with details of the dispense part of the supply specification.
    /// </summary>
    public List<VisionPrescriptionDispense> Dispense { get; set; }
    /// <summary>
    /// A link to a resource that identifies the particular occurrence of contact between patient and health care provider.
    /// </summary>
    public Reference Encounter { get; set; }
    /// <summary>
    /// Business identifier which may be used by other parties to reference or identify the prescription.
    /// </summary>
    public List<Identifier> Identifier { get; set; }
    /// <summary>
    /// A link to a resource representing the person to whom the vision products will be supplied.
    /// </summary>
    public Reference Patient { get; set; }
    /// <summary>
    /// The healthcare professional responsible for authorizing the prescription.
    /// </summary>
    public Reference Prescriber { get; set; }
    /// <summary>
    /// Can be the reason or the indication for writing the prescription.
    /// </summary>
    public CodeableConcept ReasonCodeableConcept { get; set; }
    /// <summary>
    /// Can be the reason or the indication for writing the prescription.
    /// </summary>
    public Reference ReasonReference { get; set; }
    /// <summary>
    /// The status of the resource instance.
    /// </summary>
    public string Status { get; set; }
    /// <summary>
    /// Extension container element for Status
    /// </summary>
    public Element _Status { get; set; }
    /// <summary>
    /// Serialize to a JSON object
    /// </summary>
    public new void SerializeJson(Utf8JsonWriter writer, JsonSerializerOptions options, bool includeStartObject = true)
    {
      if (includeStartObject)
      {
        writer.WriteStartObject();
      }
      if (!string.IsNullOrEmpty(ResourceType))
      {
        writer.WriteString("resourceType", (string)ResourceType!);
      }


      ((fhirCsR3.Models.DomainResource)this).SerializeJson(writer, options, false);

      if ((Identifier != null) && (Identifier.Count != 0))
      {
        writer.WritePropertyName("identifier");
        writer.WriteStartArray();

        foreach (Identifier valIdentifier in Identifier)
        {
          valIdentifier.SerializeJson(writer, options, true);
        }

        writer.WriteEndArray();
      }

      if (!string.IsNullOrEmpty(Status))
      {
        writer.WriteString("status", (string)Status!);
      }

      if (_Status != null)
      {
        writer.WritePropertyName("_status");
        _Status.SerializeJson(writer, options);
      }

      if (Patient != null)
      {
        writer.WritePropertyName("patient");
        Patient.SerializeJson(writer, options);
      }

      if (Encounter != null)
      {
        writer.WritePropertyName("encounter");
        Encounter.SerializeJson(writer, options);
      }

      if (!string.IsNullOrEmpty(DateWritten))
      {
        writer.WriteString("dateWritten", (string)DateWritten!);
      }

      if (_DateWritten != null)
      {
        writer.WritePropertyName("_dateWritten");
        _DateWritten.SerializeJson(writer, options);
      }

      if (Prescriber != null)
      {
        writer.WritePropertyName("prescriber");
        Prescriber.SerializeJson(writer, options);
      }

      if (ReasonCodeableConcept != null)
      {
        writer.WritePropertyName("reasonCodeableConcept");
        ReasonCodeableConcept.SerializeJson(writer, options);
      }

      if (ReasonReference != null)
      {
        writer.WritePropertyName("reasonReference");
        ReasonReference.SerializeJson(writer, options);
      }

      if ((Dispense != null) && (Dispense.Count != 0))
      {
        writer.WritePropertyName("dispense");
        writer.WriteStartArray();

        foreach (VisionPrescriptionDispense valDispense in Dispense)
        {
          valDispense.SerializeJson(writer, options, true);
        }

        writer.WriteEndArray();
      }

      if (includeStartObject)
      {
        writer.WriteEndObject();
      }
    }
    /// <summary>
    /// Deserialize a JSON property
    /// </summary>
    public new void DeserializeJsonProperty(ref Utf8JsonReader reader, JsonSerializerOptions options, string propertyName)
    {
      switch (propertyName)
      {
        case "dateWritten":
          DateWritten = reader.GetString();
          break;

        case "_dateWritten":
          _DateWritten = new fhirCsR3.Models.Element();
          _DateWritten.DeserializeJson(ref reader, options);
          break;

        case "dispense":
          if ((reader.TokenType != JsonTokenType.StartArray) || (!reader.Read()))
          {
            throw new JsonException();
          }

          Dispense = new List<VisionPrescriptionDispense>();

          while (reader.TokenType != JsonTokenType.EndArray)
          {
            fhirCsR3.Models.VisionPrescriptionDispense objDispense = new fhirCsR3.Models.VisionPrescriptionDispense();
            objDispense.DeserializeJson(ref reader, options);
            Dispense.Add(objDispense);

            if (!reader.Read())
            {
              throw new JsonException();
            }
          }

          if (Dispense.Count == 0)
          {
            Dispense = null;
          }

          break;

        case "encounter":
          Encounter = new fhirCsR3.Models.Reference();
          Encounter.DeserializeJson(ref reader, options);
          break;

        case "identifier":
          if ((reader.TokenType != JsonTokenType.StartArray) || (!reader.Read()))
          {
            throw new JsonException();
          }

          Identifier = new List<Identifier>();

          while (reader.TokenType != JsonTokenType.EndArray)
          {
            fhirCsR3.Models.Identifier objIdentifier = new fhirCsR3.Models.Identifier();
            objIdentifier.DeserializeJson(ref reader, options);
            Identifier.Add(objIdentifier);

            if (!reader.Read())
            {
              throw new JsonException();
            }
          }

          if (Identifier.Count == 0)
          {
            Identifier = null;
          }

          break;

        case "patient":
          Patient = new fhirCsR3.Models.Reference();
          Patient.DeserializeJson(ref reader, options);
          break;

        case "prescriber":
          Prescriber = new fhirCsR3.Models.Reference();
          Prescriber.DeserializeJson(ref reader, options);
          break;

        case "reasonCodeableConcept":
          ReasonCodeableConcept = new fhirCsR3.Models.CodeableConcept();
          ReasonCodeableConcept.DeserializeJson(ref reader, options);
          break;

        case "reasonReference":
          ReasonReference = new fhirCsR3.Models.Reference();
          ReasonReference.DeserializeJson(ref reader, options);
          break;

        case "status":
          Status = reader.GetString();
          break;

        case "_status":
          _Status = new fhirCsR3.Models.Element();
          _Status.DeserializeJson(ref reader, options);
          break;

        default:
          ((fhirCsR3.Models.DomainResource)this).DeserializeJsonProperty(ref reader, options, propertyName);
          break;
      }
    }

    /// <summary>
    /// Deserialize a JSON object
    /// </summary>
    public new void DeserializeJson(ref Utf8JsonReader reader, JsonSerializerOptions options)
    {
      string propertyName;

      while (reader.Read())
      {
        if (reader.TokenType == JsonTokenType.EndObject)
        {
          return;
        }

        if (reader.TokenType == JsonTokenType.PropertyName)
        {
          propertyName = reader.GetString();
          reader.Read();
          this.DeserializeJsonProperty(ref reader, options, propertyName);
        }
      }

      throw new JsonException();
    }
  }
  /// <summary>
  /// Code Values for the VisionPrescription.status field
  /// </summary>
  public static class VisionPrescriptionStatusCodes {
    public const string ACTIVE = "active";
    public const string CANCELLED = "cancelled";
    public const string DRAFT = "draft";
    public const string ENTERED_IN_ERROR = "entered-in-error";
    public static HashSet<string> Values = new HashSet<string>() {
      "active",
      "cancelled",
      "draft",
      "entered-in-error",
    };
  }
}
